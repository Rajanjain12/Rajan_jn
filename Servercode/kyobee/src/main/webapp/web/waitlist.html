<section>
    
    
       <!--  <a href="javascript:void(0)" class="headersh"><i class="fa fa-bars" aria-hidden="true"></i></a> -->
    
        
        <div class="waitlist-section-2">
                
            <div class="container">
            
                <div class="row content">

                    <div class="col-md-4 col-sm-4 text-center">
                        <label class="theme-fontcolor">Approximate Wait Time</label>
                        <div class="input-group time-x">
                              <span class="input-group-btn">
                                  <button type="button" class="btn btn-red btn-number theme-color"  data-type="minus" data-field="quant[1]">
                                      <span class="glyphicon glyphicon-minus"></span>
                                  </button>
                              </span>
                              <input type="text" name="quant[1]" class="form-control input-number border-color" ng-model="waitTime" min="1" max="10">
                              <span class="input-group-btn">
                                  <button type="button" class="btn btn-red btn-number theme-color" data-type="plus" data-field="quant[1]">
                                      <span class="glyphicon glyphicon-plus"></span>
                                  </button>
                              </span>
                          </div>
                          <label class="sm-txt">Minute</label>
                        
                    </div>
                    
                    <div class="col-md-4 col-sm-4 text-center">
                        <label class="theme-fontcolor">Notify First</label>
                        <div class="input-group time-x">
                              <span class="input-group-btn">
                                  <button type="button" class="btn btn-red btn-number theme-color" data-type="minus" data-field="quant[2]">
                                      <span class="glyphicon glyphicon-minus"></span>
                                  </button>
                              </span>
                              <input type="text" name="quant[2]" class="form-control input-number border-color" ng-model="notifyFirst" min="1" max="10">
                              <span class="input-group-btn">
                                  <button type="button" class="btn btn-red btn-number theme-color" data-type="plus" data-field="quant[2]">
                                      <span class="glyphicon glyphicon-plus"></span>
                                  </button>
                              </span>
                          </div> 
                        <label class="sm-txt">Party</label>
                    </div> 
                    
                    
                    <div class="col-md-4 col-sm-4 text-center">
                        <label class="theme-fontcolor">Total Wait Time</label>
                        <div class="time-x">
                        	<h2 class="border-color">{{convertMinstoMMHH(totalWaitTime)}}</h2>
                        </div>
                        <label class="sm-txt">Hour:Minute</label>
                        
                    </div>
                   
                </div>

            </div>
            
        </div>
    

       <div class="table-wrap">

                         
                   <!--  <div class="dropdown">
                      <a class="dropbtn"><i class="fa fa-th fa-2x" aria-hidden="true"></i></a>
                      <div class="dropdown-content">
                        <div class="checkbox checkbox-success">
                            <input type="checkbox" id="inlineCheckbox1" value="option1">
                            <label for="inlineCheckbox1" class="chexclr">Seat</label>
                        </div>
                        <div class="checkbox checkbox-success">
                            <input type="checkbox" id="inlineCheckbox2" value="option2">
                            <label for="inlineCheckbox2" class="chexclr">No.</label>
                        </div>
                        <div class="checkbox checkbox-success">
                            <input type="checkbox" id="inlineCheckbox3" value="option3">
                            <label for="inlineCheckbox3" class="chexclr">Name</label>
                        </div>
                        <div class="checkbox checkbox-success">
                            <input type="checkbox" id="inlineCheckbox4" value="option4">
                            <label for="inlineCheckbox4" class="chexclr">Party of</label>
                        </div>               
                        <div class="checkbox checkbox-success">
                            <input type="checkbox" id="inlineCheckbox5" value="option5">
                            <label for="inlineCheckbox5" class="chexclr">Note</label>
                        </div>
                        <div class="checkbox checkbox-success">
                            <input type="checkbox" id="inlineCheckbox6" value="option6">
                            <label for="inlineCheckbox6" class="chexclr">SMS/E-Mail</label>
                        </div>
                        <div class="checkbox checkbox-success">
                            <input type="checkbox" id="inlineCheckbox7" value="option7">
                            <label for="inlineCheckbox7" class="chexclr">Delete</label>
                        </div>
                        <div class="default-1"><a href="">Default</a></div>
                      </div>                
                    </div> -->
                
                <div id="showpopup" class="simplePopup border-color">
	              <div class="confirm-table-wrap text-center">
	                    <h2 class="theme-fontcolor">Confirm Table Ready For</h2>
	                    <div class="guest-name">
	                        <h1>Guest #{{selectedGuest.rank}}</h1>
	                        <h1>{{selectedGuest.name}}</h1>
	                    </div>
	                    <div class="btn-guest border-top">
	                        <button type="button" class="btn btn-orange theme-color" ng-click="incrementCalloutCount();">NOT PRESENT</button>
	                        <button type="button" class="btn btn-orange theme-color" ng-click="markasIncomplete();">INCOMPLETE</button>
	                        <button type="button" class="btn btn-orange theme-color" ng-click="markasSeated();">YES</button>
	                    </div>
	              </div>
	           </div>
	           
	           <div id="deletePopup" class="simplePopup border-color">
	              <div class="confirm-table-wrap text-center">
	                    <h2 class="theme-fontcolor">Confirm Delete Guest</h2>
	                    <div class="guest-name">
	                        <h1>Guest #{{selectedGuest.rank}}</h1>
	                        <h1>{{selectedGuest.name}}</h1>
	                    </div>
	                    <div class="btn-guest border-top">
	                        <button type="button" class="btn btn-orange theme-color" ng-click="deleteGuest();">DELETE</button>
	                        <button type="button" class="btn btn-orange theme-color" ng-click="cancelDelete();">CANCEL</button>
	                    </div>
	              </div>
	           </div>
	           	 
	           	<div class="alert alert-success" role="alert" style="margin-left: 10px; margin-right: 10px;" ng-show="successMsg != null && successMsg != ''">
					<button type="button" class="close" ng-click="hideSuccessMsg();">&times;</button>
					<strong>Done ! </strong>{{successMsg}}
				</div>
	           	
	           	
	           	<h5 ng-show="showHistory == false" style="margin-bottom:5px;"><a style="padding:10px; cursor:pointer; font-weight:bold; text-decoration: underline;" class="theme-fontcolor" ng-click="toggleShowHistory();">Show History</a></h5>
	           	<h5 ng-show="showHistory == true" style="margin-bottom:5px;"><a style="padding:10px; cursor:pointer; font-weight:bold; text-decoration: underline;" class="theme-fontcolor" ng-click="toggleShowHistory();">Hide History</a></h5>
	           	
	           	<div ng-show="showHistory == false">
	           		<table id="waitlisttable" class="table table-striped table-bordered" cellspacing="0" width="100%">
                        <thead>
                            <tr>
                                <th>Seat</th>
                                <th>No.</th>
                                <th>Name</th>
                                <th>Seating Pref.</th>
                                <th>No. Of Party</th>
                                <th>Opt-In</th>
                                <th>Note</th>
                                <th>Delete</th>                                 
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="record in guestWaitList">
                                <td><a class="clickpopup" style="cursor:pointer" ng-click="showPopup(record);"><img src="../assets/img/greenarrow.png"></a></td>
                                <td>{{record.rank}}</td>
                                <td>
                                	<a ng-click="moveToUpdateGuest(record.guestID)" ng-class="{'hightlight' : record.incompleteParty != null }" style="cursor:pointer"><u>{{record.name}}</u></a> &nbsp;
                                	<span ng-show="record.calloutCount != null" ng-repeat="item in getArrayFromNum(record.calloutCount) track by $index">
                                	<img src="../assets/img/downhand.png"> &nbsp;
                                	</span>
                                </td>
                                <td>{{record.seatingPreference}}</td>
                                <td>{{record.noOfPeople}}</td>
                                <td><img ng-show="record.optin == true" src="../assets/img/roundarrow.png"></td>
                                <td><img ng-show="record.note != null" src="../assets/img/roundarrow.png"></td>
                                <td><a style="cursor:pointer" ng-click="showDeletePopup(record);"><img src="../assets/img/delete.png"></a></td>
                                
                            </tr>
                       	</tbody>
                	</table>                
            		<div class="clearfix"></div>
                	<!-- <div class="paginations">
	                   	<div class="pagination-inner">Page<span>{{pager.currentPage}}</span>of {{pager.totalPages}} 
	                       <a style="cursor:pointer" ng-click="loadWaitListPage(pager.currentPage-1)" class="priv"><i class="fa fa-angle-left" aria-hidden="true"></i></a>
	                       <a style="cursor:pointer" ng-click="loadWaitListPage(pager.currentPage+1)" class="next"><i class="fa fa-angle-right" aria-hidden="true"></i></a>
	                    </div>                                    
               		</div>	 -->
	           	 </div>
	           	 
	           	 <div ng-show="showHistory == true">
	           	 	<table id="waitlisttable" class="table table-striped table-bordered" cellspacing="0" width="100%">
                        <thead>
                            <tr>
                                <th>No.</th>
                                <th>Name</th>
                                <th>Seating Pref.</th>
                                <th>No. Of Party</th>
                                <th>Opt-In</th> 
                                <th>Note</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="record in guestWaitList">
                                <td>{{record.rank}}</td>
                                <td>
                                	<a ng-click="moveToUpdateGuest(record.guestID)" ng-class="{'hightlight' : record.incompleteParty != null }" style="cursor:pointer"><u>{{record.name}}</u></a> &nbsp;
                                	<span ng-show="record.calloutCount != null" ng-repeat="item in getArrayFromNum(record.calloutCount) track by $index">
                                	<img src="../assets/img/downhand.png"> &nbsp;
                                	</span>
                                </td>
                                <td>{{record.seatingPreference}}</td>
                                <td>{{record.noOfPeople}}</td>
                                <td><img ng-show="record.optin == true" src="../assets/img/roundarrow.png"></td>
                                 <td><img ng-show="record.note != null" src="../assets/img/roundarrow.png"></td>
                            </tr>
                       	</tbody>
                	</table>                
<!--    		   <div class="clearfix"></div>-->
       				<!-- <div class="pagination-block">
                       <div class="col-md-12 col-sm-12 col-xs-12">
                       <div class="paginations">
	                   <div class="pagination-inner">Page<span>{{pager.currentPage}}</span>of {{pager.totalPages}} 
	                       <a style="cursor:pointer" ng-click="loadHistoryPage(pager.currentPage-1)" class="priv"><i class="fa fa-angle-left" aria-hidden="true"></i></a>
	                       <a style="cursor:pointer" ng-click="loadHistoryPage(pager.currentPage+1)" class="next"><i class="fa fa-angle-right" aria-hidden="true"></i></a>
	                    </div>
                                    
               			</div>
                       </div>
       				 </div> -->
                 	
	           	 </div>
	           	 
	           	 
                        
     </div>
    	 <div class="pagination-block">
<!--                        <div class="col-md-12 col-sm-12 col-xs-12">-->
                       <div ng-show="showHistory == false" class="paginations">
	                   <div class="pagination-inner">Page<span>{{pager.currentPage}}</span>of {{pager.totalPages}} 
	                       <a style="cursor:pointer" ng-click="loadWaitListPage(pager.currentPage-1)" class="priv"><i class="fa fa-angle-left" aria-hidden="true"></i></a>
	                       <a style="cursor:pointer" ng-click="loadWaitListPage(pager.currentPage+1)" class="next"><i class="fa fa-angle-right" aria-hidden="true"></i></a>
	                    </div> 
                                    
               			</div>
               			
           			 <div ng-show="showHistory == true" class="paginations">
	                   <div class="pagination-inner">Page<span>{{pager.currentPage}}</span>of {{pager.totalPages}} 
	                       <a style="cursor:pointer" ng-click="loadHistoryPage(pager.currentPage-1)" class="priv"><i class="fa fa-angle-left" aria-hidden="true"></i></a>
	                       <a style="cursor:pointer" ng-click="loadHistoryPage(pager.currentPage+1)" class="next"><i class="fa fa-angle-right" aria-hidden="true"></i></a>
	                    </div>
                                    
               		 </div>

       			</div><!-- End of pagination block -->

       
</section>






<script>


$('.btn-number').click(function(e){
    e.preventDefault();
    
    fieldName = $(this).attr('data-field');
    type      = $(this).attr('data-type');
    var input = $("input[name='"+fieldName+"']");
    var currentVal = parseInt(input.val());
    if (!isNaN(currentVal)) {
        if(type == 'minus') {
            
            if(currentVal > input.attr('min')) {
                input.val(currentVal - 1).change();
            } 
            if(parseInt(input.val()) == input.attr('min')) {
                $(this).attr('disabled', true);
            }

        } else if(type == 'plus') {

            if(currentVal < input.attr('max')) {
                input.val(currentVal + 1).change();
            }
            if(parseInt(input.val()) == input.attr('max')) {
                $(this).attr('disabled', true);
            }

        }
    } else {
        input.val(0);
    }
});
$('.input-number').focusin(function(){
   $(this).data('oldValue', $(this).val());
});
$('.input-number').change(function() {
    
    minValue =  parseInt($(this).attr('min'));
    maxValue =  parseInt($(this).attr('max'));
    valueCurrent = parseInt($(this).val());
    
    name = $(this).attr('name');
    if(valueCurrent >= minValue) {
        $(".btn-number[data-type='minus'][data-field='"+name+"']").removeAttr('disabled')
    } else {
        alert('Sorry, the minimum value was reached');
        $(this).val($(this).data('oldValue'));
    }
    if(valueCurrent <= maxValue) {
        $(".btn-number[data-type='plus'][data-field='"+name+"']").removeAttr('disabled')
    } else {
        alert('Sorry, the maximum value was reached');
        $(this).val($(this).data('oldValue'));
    }
    
    
});
$(".input-number").keydown(function (e) {
        // Allow: backspace, delete, tab, escape, enter and .
        if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 190]) !== -1 ||
             // Allow: Ctrl+A
            (e.keyCode == 65 && e.ctrlKey === true) || 
             // Allow: home, end, left, right
            (e.keyCode >= 35 && e.keyCode <= 39)) {
                 // let it happen, don't do anything
                 return;
        }
        // Ensure that it is a number and stop the keypress
        if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
            e.preventDefault();
        }
    });



</script>