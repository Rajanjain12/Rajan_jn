<small class="text-danger" style="text-align: center;">
  {{ errorMessage }}
</small>
<main id="page-content-wrapper" role="main">
  <section class="container  pt-lg-2 pt-md-2 pt-sm-3 pt-3 fade-in" id="addUserPage">
    <div class="row first-lang">
      <div class="col-lg-9">
        <form #f="ngForm" novalidate>
          <div class="col-lg-10">
            <div class="form-group mb-3">
              <input type="text " id="phone" name="phone" class="form-control" #phone="ngModel" pattern="^(\+\d{2,4})?\s?(\d{10})$" [ngClass]="{ 'is-invalid': f.submitted && phone.invalid }" [(ngModel)]="guest.sms" required="required" />
              <div *ngIf="f.submitted && phone.invalid" class="invalid-feedback">
                <small class="text-danger" *ngIf="phone.errors?.required">Phone no is required</small>
                <small class="text-danger" *ngIf="phone.errors?.pattern">Phone no should be in proper form</small>
              </div>
              <label for="input" class="control-label">Mobile Number</label><i class="bar"></i>
            </div>
            <div class="row">
              <div class="form-group mb-0 col-lg-6">
                <select id="adult" name="adult" class="form-control" #adult="ngModel" [ngClass]="{ 'is-invalid': f.submitted && adult.invalid }" [(ngModel)]="guest.noOfAdults" required="required">
                  <option *ngFor="let in of counter(100); let i = index">{{ i }}</option>
                </select>
                <div *ngIf="f.submitted && adult.invalid" class="invalid-feedback">
                  <small class="text-danger" *ngIf="adult.errors?.required">Adults are required</small>
                </div>
                <label for="adult" class="control-label padding-left-18">Adults</label><i class="bar"></i>
              </div>
              <div class="form-group mb-0 col-lg-6">
                <select id="children" name="children" class="form-control" #children="ngModel" [(ngModel)]="guest.noOfChildren">
                  <option *ngFor="let in of counter(100); let i = index">{{ i }}</option>
                </select>
                <label for="children" class="control-label padding-left-18">Children</label><i class="bar"></i>
              </div>
            </div>
            <div class="form-group mb-3">
              <input type="text" id="gname" class="form-control" #gname="ngModel" [ngClass]="{ 'is-invalid': f.submitted && gname.invalid }" maxlength="50" [(ngModel)]="guest.name" name="gname" required="required" />
              <div *ngIf="f.submitted && gname.invalid" class="invalid-feedback">
                <small class="text-danger" *ngIf="gname.errors?.required">Name is required</small>
                <small class="text-danger" *ngIf="gname.errors?.maxlength">Name Length is too large.</small>
              </div>
              <label for="input" class="control-label">Name</label><i class="bar"></i>
              <!--   <span class="error">error</span>   -->
            </div>
            <div class="mt-0 mb-4">
              <input class="styled-checkbox" id="promotion" type="checkbox" [checked]="guest.optin == 1" (click)="onOptinChange()" />
              <label for="promotion">Opt-in for special Promotions and loyalty program.</label>
            </div>
            <div class="row">
              <div class="col-lg-3 my-1">
                <span class="font-weight-semibold">Seating Preference</span>
              </div>
              <div class="col-lg-9 my-1" *ngFor="let seating of user.seatingpref; index as i">
                <input class="styled-checkbox" id="firstAvailable{{ i }}" type="checkbox" [(ngModel)]="seating.selected" [ngModelOptions]="{ standalone: true }" />
                <label for="firstAvailable{{ i }}" class="mr-2">{{ seating.prefValue }}</label>
              </div>
            </div>
            <div class="row pt-3">
              <div class="col-lg-3 my-1">
                <span class="font-weight-semibold">How did you hear about us</span>
              </div>
              <div class="col-lg-9 my-1" *ngFor="let marketing of user.marketingPref; index as i">
                <input class="styled-checkbox" id="facebook{{ i }}" type="checkbox" [(ngModel)]="marketing.selected" [ngModelOptions]="{ standalone: true }" />
                <label for="facebook{{ i }}" class="mr-2">{{ marketing.prefValue }}</label>
              </div>
            </div>
            <div class="form-group">
              <textarea id="text" name="text" maxlength="150" class="form-control" #text="ngModel" [ngClass]="{ 'is-invalid': f.submitted && text.invalid }" [(ngModel)]="guest.note" required="required"> </textarea>
              <div *ngIf="f.submitted && text.invalid" class="invalid-feedback">
                <small class="text-danger" *ngIf="text.errors?.required">Note is required</small>
                <small class="text-danger" *ngIf="text.errors?.maxlength">Note is too large.</small>
              </div>
              <label for="textarea" class="control-label">Note</label><i class="bar"></i>
            </div>
            <div class="col-ld-12 text-center pb-3">
              <button type="submit" class="btn btn-theme background-color shadow" (click)="validate(f.form.invalid)"><span>Add Guest</span></button>
            </div>
          </div>
        </form>
      </div>
      <div class="col-lg-3 col-md-12 col-sm-12 col-12 mt-4">
        <form class="col-lg-12 col-md-6 col-sm-6 col-8 float-right">
          <select class="form-control">
            <option>English</option>
          </select>
        </form>
      </div>
    </div>
  </section>
</main>
